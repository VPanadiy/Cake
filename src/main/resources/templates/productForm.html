<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:with="lang=${#locale.language}" th:lang="${lang}">
<!-- HEADER -->
<head th:lang="${lang}">
    <title th:text="#{label.title.ProductForm}"></title>
    <!--/*/ <th:block th:include="include/headerinc :: head"></th:block> /*/-->
</head>
<!-- /HEADER -->
<!-- MAIN SECTION -->
<body>
<div class="container">
    <!--/*/ <th:block th:include="include/header :: header"></th:block> /*/-->

    <div class="form-horizontal">
        <div class="form-group">
            <label class="col-sm-2 control-label">Category:</label>
            <div class="col-sm-10">
                <select class="form-control" id="productType" name="productType">
                    <option selected disabled>Select...</option>
                    <option th:each="type : ${productType}"
                            th:value="${type}"
                            th:text="${type}"
                            th:selected="${type.equals(productType)}"></option>
                </select>
            </div>
        </div>
    </div>

    <div style='display:none;' id='cakeType'>
        <form class="form-horizontal" th:object="${product}" th:action="@{/productCake}" method="post">
            <input type="hidden" th:field="*{id}"/>

            <div class="form-group">
                <label class="col-sm-2 control-label">Name:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{name}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label">Description:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{description}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label">Price:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{price}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label">Weight:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:name="weight"/>
                </div>
            </div>

            <div class="row">
                <button type="submit" class="btn btn-default">Submit</button>
            </div>
        </form>
    </div>

    <div style='display:none;' id='candiesType'>
        <form class="form-horizontal" th:object="${product}" th:action="@{/productCandies}" method="post">
            <input type="hidden" th:field="*{id}"/>

            <div class="form-group">
                <label class="col-sm-2 control-label">Name:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{name}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label">Description:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{description}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label">Price:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:field="*{price}"/>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-2 control-label">Count:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" th:name="count"/>
                </div>
            </div>

            <div class="row">
                <button type="submit" class="btn btn-default">Submit</button>
            </div>
        </form>
    </div>

</div>

<script>

    var checkPattern = function () {
        var type = $('#productType');
        if (type.val() === 'Cake') {
            $('#cakeType').show();
        }else if(type.val() === 'Candies') {
            $('#candiesType').show();
        } else {
            $('#cakeType').hide();
            $('#candiesType').hide();
        }
    };

    $(document).ready(function() {
        $("#productType").change(function() {
            $("#cakeType").css('display', (this.value === 'Cake') ? 'block' : 'none');
            $("#candiesType").css('display', (this.value === 'Candies') ? 'block' : 'none');
        });
        checkPattern();
    });

</script>

</body>
<!-- /MAIN SECTION -->
</html>