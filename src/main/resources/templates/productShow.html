<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:with="lang=${#locale.language}" th:lang="${lang}">
<!-- HEADER -->
<head th:lang="${lang}">
    <title th:text="#{label.title.ProductShow}"></title>
    <!--/*/ <th:block th:include="include/headerinc :: head"></th:block> /*/-->
</head>
<!-- /HEADER -->
<!-- MAIN SECTION -->
<body>
<div class="container">
    <!--/*/ <th:block th:include="include/header :: header"></th:block> /*/-->

    <h2>Product Details</h2>

    <div class="form-group">
        <div th:if="${product.imageData != null}">
            <img th:src="@{'data:image/jpg;base64,' + *{T(org.springframework.util.Base64Utils).encodeToString(product.imageData)}}"
                 class="img-responsive"
                 style="width: 900px; height: 600px" alt="Image">
        </div>
        <div th:unless="${product.imageData != null}">
            <img th:src="@{/images/defaultImage.png}" class="img-responsive"
                 style="width: 100%; height: 200px" alt="Image">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Product Id:</label>
        <div class="col-sm-10">
            <p class="form-control-static" th:text="${product.id}">Product Id</p></div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Description:</label>
        <div class="col-sm-10">
            <p class="form-control-static" th:text="${product.description}">description</p>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">Price:</label>
        <div class="col-sm-10">
            <p class="form-control-static" th:text="${product.price}">Priceaddd</p>
        </div>
    </div>


</div>

<div class="container text-center">
    <div class="row">

        <div class="col-sm-7">

            <div class="row">
                <div class="col-sm-12">
                    <div class="panel panel-default text-left">
                        <div class="panel-body">
                            <button type="button" class="btn btn-default btn-sm">
                                <span class="glyphicon glyphicon-thumbs-up"></span> Like
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12">
                <form action="#" th:action="@{/addPostToProduct}" method="POST">
                    <input type="hidden" th:name="productId" th:value="${product.id}"/>
                    <div class="form-group">
                        <label for="comment">Comment:</label>
                        <textarea class="form-control" rows="5" id="comment" th:name="comment"></textarea>
                    </div>
                    <p><input type="submit" class="btn btn-success" value="Отправить"></p>
                </form>
            </div>

            <dl th:each="comment : ${comments}">
                <div class="row">
                    <div class="col-sm-3">
                        <div class="well">
                            <p th:text="${comment.userId.getName()}"></p>
                            <img th:src="@{/images/defaultImage.png}" class="img-circle" height="55" width="55"
                                 alt="Avatar">
                        </div>
                    </div>
                    <div class="col-sm-9">
                        <div class="well">
                            <p th:text="${comment.getPost()}"></p>
                        </div>
                    </div>
                </div>
            </dl>

        </div>

    </div>
</div>


</body>
<!-- /MAIN SECTION -->
</html>